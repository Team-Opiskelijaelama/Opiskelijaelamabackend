<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Opiskelijaelämä</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
<h1 class='text-center'>Laulut</h1>
	<div class="container">
			<a href="/addLaulu" class="btn btn-success">Lisää Laulu</a>
	<div class="row">
		<div class="col">
   			 <table class="table table-stripped">
    			<tr>
    				<th>Nimi</th>
    				<th>Sävel</th>
    				<th>Pakollinen</th>
    				<th></th>
    				<th></th>
    				<th></th>
    				<th th:id="accordion"></th>
    			</tr>
    			<tr th:each = "laulu : ${laulut}">
    				<td th:text="${laulu.nimi}"></td>
    				<td th:text="${laulu.savel}"></td>
    				<td th:text="${laulu.pakollinen}"></td>
    				<td><a th:href="@{/editLaulu/{id}(id=${laulu.lauluId})}" class="btn btn-secondary">Muokkaa</a></td>
    				<td><a th:href="@{/deleteLaulu/{id}(id=${laulu.lauluId})}" class="btn btn-danger">Poista</a></td>
    				<th><a class="btn btn-primary" data-bs-toggle="collapse" th:attr="data-bs-target=|#accordion${laulu.lauluId}|">Sanat</a></th>
    			</tr>
    	 	</table>
		</div>
			<div class="col">
				<table class="table table-stripped" id="accordionMain">
					<tr>
						<th>Laulun Sanat:</th>
					</tr>
					<tr th:each ="laulu : ${laulut}" th:attr="data-bs-target=|#accordion${laulu.lauluId}|" data-bs-toggle="collapse" class="accordion-toggle">
    					<td colspan="6" class="hiddenrow">
    						<div style="white-space: pre-line" class="accordion-body collapse" th:id="'accordion'+${laulu.lauluId}" th:text="${laulu.sanat}" data-bs-parent="#accordionMain"></div>
    					</td>
					</tr>
				</table>
			</div>
		</div>
     </div>
     
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>